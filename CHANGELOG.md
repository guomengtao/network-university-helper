# 网络大学课程统计助手 - 更新日志

## [1.1.3] - 2024-03-21

### 更新
- 添加形考任务到作业列表
- 优化作业识别逻辑
- 改进分类机制
- 修改产品名称为"网络大学课程统计助手"

### 技术细节
- 在 content.js 中添加形考任务识别
- 更新作业判断条件
- 优化代码结构

## [1.1.2] - 2024-03-21

### 更新
- 添加本次已打开课程计数功能
- 倒计时结束后自动更新完成/未完成数量
- 优化统计显示
- 改进数据更新机制

### 技术细节
- 添加openedCoursesCount计数器
- 实现完成/未完成数量的实时更新
- 优化UI显示效果
- 改进数据同步逻辑

## [1.1.1] - 2024-03-21

### 更新
- 添加作业单独分组功能
- 修复倒计时结束后数据不刷新的问题
- 优化数据刷新机制
- 改进UI显示

### 技术细节
- 在 content.js 中添加作业识别和分组
- 修复数据刷新机制
- 优化消息传递系统
- 添加作业列表的样式

## [1.1.0] - 2024-03-21

### 更新
- 添加倒计时结束后自动刷新统计数据功能
- 优化数据更新机制
- 改进消息传递系统

### 技术细节
- 在 content.js 中添加 refreshStats 函数
- 扩展消息监听系统支持数据刷新
- 优化数据同步机制
- 改进统计结果的实时性

## [1.0.9] - 2024-03-21

### 更新
- 修改新标签页在后台打开
- 保持当前课程页面在最前面
- 优化标签页管理逻辑

### 技术细节
- 在 chrome.tabs.create 中添加 active: false 参数
- 添加 tabs 权限到 manifest.json
- 优化标签页切换逻辑

## [1.0.8] - 2024-03-21

### 更新
- 排除文件类型链接的统计
- 添加停止自动打开功能
- 修改为在新标签页打开课程
- 自动关闭上一个课程标签页
- 等待时间改为10-25秒随机

### 技术细节
- 更新 content.js 排除 /mod/resource/ 和 /mod/folder/ 类型的链接
- 添加停止按钮和相关功能
- 使用 chrome.tabs.create 和 chrome.tabs.remove 管理标签页
- 实现随机等待时间
- 优化自动打开流程

## [1.0.7] - 2024-03-21

### 更新
- 优化课程检测逻辑，使用更精确的选择器
- 修改课程链接获取方式
- 改进完成状态检测机制

### 技术细节
- 更新 content.js 使用 .activityinstance 选择器
- 优化课程标题和链接的获取方式
- 通过父元素 .activity 检查完成状态
- 提高数据获取的准确性

## [1.0.6] - 2024-03-21

### 更新
- 将操作按钮移到界面顶部
- 修改自动打开功能使用新窗口而不是新标签页
- 设置新窗口大小为1024x768
- 优化界面布局

### 技术细节
- 更新 popup.html 调整按钮位置
- 修改 popup.js 使用 chrome.windows.create 替代 chrome.tabs.create
- 添加窗口大小设置
- 优化CSS样式

## [1.0.5] - 2024-03-21

### 更新
- 添加页面加载完成后自动统计功能
- 移除需要手动点击检查的要求
- 优化用户体验
- 保留手动刷新功能

### 技术细节
- 修改 content.js 添加自动发送统计结果
- 更新 popup.js 添加自动接收统计结果
- 重构代码提高可维护性
- 优化消息传递机制

## [1.0.4] - 2024-03-21

### 更新
- 添加自动打开未完成课程功能
- 添加10秒倒计时功能
- 自动循环打开所有未完成课程
- 优化界面显示

### 技术细节
- 在content.js中添加课程URL获取
- 更新popup.html添加新按钮和计时器显示
- 更新popup.js添加自动打开和倒计时逻辑
- 添加课程自动切换功能

## [1.0.3] - 2024-03-21

### 更新
- 添加详细的课程列表显示
- 分别显示已完成和未完成的课程
- 改进popup界面样式
- 添加滚动条支持长列表
- 使用不同颜色区分完成状态

### 技术细节
- 更新 popup.html 添加列表显示区域
- 更新 popup.js 处理课程列表数据
- 添加CSS样式美化界面
- 优化用户体验

## [1.0.2] - 2024-03-21

### 更新
- 改进课程完成状态检测逻辑
- 使用 img[alt*="未完成"] 选择器来准确识别未完成课程
- 优化课程列表数据结构，增加更多信息
- 保存DOM元素引用以便后续操作
- 增加必要的权限和host permissions
- 设置content script在页面加载完成后运行

### 技术细节
- 更新 manifest.json 添加新的权限
- 改进 content.js 中的课程检测逻辑
- 优化数据结构以支持更多功能

## [1.0.1] - 2024-03-21

### 更新
- 添加插件图标
- 创建images文件夹
- 添加icon.png图标文件

## [1.0.0] - 2024-03-21

### 初始版本
- 创建基础Chrome插件结构
- 实现课程完成情况统计功能
- 包含以下文件:
  - manifest.json: 插件配置文件
  - popup.html: 弹出窗口界面
  - popup.js: 弹出窗口逻辑
  - content.js: 页面内容分析脚本

### 功能
- 统计课程总数
- 统计已完成课程数
- 统计未完成课程数
- 在弹出窗口显示统计结果

### 技术细节
- 使用Chrome Extension Manifest V3
- 使用content script分析页面内容
- 使用消息传递机制在popup和content script之间通信

### 文件夹结构和图标获取步骤
1. 在插件根目录创建 `images` 文件夹
2. 从以下链接下载图标并重命名：
   - 16x16: https://img.icons8.com/color/16/course-assign.png -> icon16.png
   - 48x48: https://img.icons8.com/color/48/course-assign.png -> icon48.png
   - 128x128: https://img.icons8.com/color/128/course-assign.png -> icon128.png
3. 将下载的图标放入 images 文件夹

完整的文件结构应该是：